import React from "react";
import jsPDF from "jspdf";
import "jspdf-autotable"; // Import autotable plugin

// Dummy data for testing purposes
const dummyData = {
    name: "John Doe",
    location: "Your Location",
    email: "youremail@yourdomain.com",
    phone: "0541 999 99 99",
    website: "yourwebsite.com",
    linkedin: "linkedin.com/in/yourusername",
    github: "github.com/yourusername",
    education: [
        {
            institution: "University of Pennsylvania",
            degree: "BS in Computer Science",
            gpa: "3.9/4.0",
            startDate: "Sept 2000",
            endDate: "May 2005",
            coursework: "Computer Architecture, Comparison of Learning Algorithms, Computational Theory",
        },
    ],
    experience: [
        {
            company: "Apple",
            location: "Cupertino, CA",
            jobTitle: "Software Engineer",
            startDate: "June 2005",
            endDate: "Aug 2007",
            description: [
                "Reduced time to render user buddy lists by 75% by implementing a prediction algorithm",
                "Integrated iChat with Spotlight Search by creating a tool to extract metadata from saved chat transcripts and provide metadata to a system-wide search database",
                "Redesigned chat file format and implemented backward compatibility for search",
            ],
        },
        {
            company: "Microsoft",
            location: "Redmond, WA",
            jobTitle: "Software Engineer Intern",
            startDate: "June 2003",
            endDate: "Aug 2003",
            description: [
                "Designed a UI for the VS open file switcher (Ctrl-Tab) and extended it to tool windows",
                "Created a service to provide gradient across VS and VS add-ins, optimizing its performance via caching",
                "Created a service to provide gradient across VS and VS add-ins, optimizing its performance via caching",
                "Built an app to compute the similarity of all methods in a codebase, reducing the time from $\\mathcal{O}(n^{2})$ to $\\mathcal{O}(n~log~n)$",
                "Created a test case generation tool that creates random XML docs from XML Schema",
                "Automated the extraction and processing of large datasets from legacy systems using SQL and Perl scripts",
            ],
        },
    ],
    publications: [
        {
            title: "3D Finite Element Analysis of No-Insulation Coils",
            authors: "Frodo Baggins, John Doe, Samwise Gamgee",
            link: "10.1109/TASC.2023.3340648",
        },
    ],
    projects: [
        {
            name: "Multi-User Drawing Tool",
            date: "Jan 2004",
            github: "github.com/name/repo",
            description: [
                "Developed an electronic classroom where multiple users can simultaneously view and draw on a 'chalkboard' with each person's edits synchronized",
            ],
            tools: "C++, MFC",
        },
        {
            name: "Synchronized Desktop Calendar",
            date: "2002",
            github: "github.com/name/repo",
            description: [
                "Developed a desktop calendar with globally shared and synchronized calendars, allowing users to schedule meetings with other users",
            ],
            tools: "C#, .NET, SQL, XML",
        },
        {
            name: "Custom Operating System",
            description: [
                "Built a UNIX-style OS with a scheduler, file system, text editor, and calculator",
            ],
            tools: "C",
        },
    ],
    technologies: {
        languages: "C++, C, Java, Objective-C, C#, SQL, JavaScript",
        technologies: ".NET, Microsoft SQL Server, XCode, Interface Builder",
    },
};

export const ResumeTemplate1 = ({ data = dummyData, updateFormValues }) => {
    const handleChange = (e) => {
        const { name, value } = e.target;
        updateFormValues({ ...data, [name]: value });
    };
    
    return (
        <div className="resume-template-1">
            {/* Header */}
            <div className="header">
                <h1>
                    <input
                        type="text"
                        name="name"
                        value={data.name}
                        onChange={handleChange}
                    />
                </h1>
                <p>
                    <input
                        type="text"
                        name="location"
                        value={data.location}
                        onChange={handleChange}
                    />{" "}
                    |{" "}
                    <input
                        type="text"
                        name="email"
                        value={data.email}
                        onChange={handleChange}
                    />{" "}
                    |{" "}
                    <input
                        type="text"
                        name="phone"
                        value={data.phone}
                        onChange={handleChange}
                    />{" "}
                    |{" "}
                    <input
                        type="text"
                        name="website"
                        value={data.website}
                        onChange={handleChange}
                    />
                </p>
                <p>
                    <input
                        type="text"
                        name="linkedin"
                        value={data.linkedin}
                        onChange={handleChange}
                    />{" "}
                    |{" "}
                    <input
                        type="text"
                        name="github"
                        value={data.github}
                        onChange={handleChange}
                    />
                </p>
            </div>
            
            {/* Education */}
            <div className="education">
                <h2>Education</h2>
                {data.education &&
                    data.education.map((edu, index) => (
                        <div key={index}>
                            <h3>
                                <input
                                    type="text"
                                    name={`education[${index}].institution`}
                                    value={edu.institution}
                                    onChange={(e) => {
                                        const newEducation = [...data.education];
                                        newEducation[index].institution =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            education: newEducation,
                                        });
                                    }}
                                />
                                ,{" "}
                                <input
                                    type="text"
                                    name={`education[${index}].degree`}
                                    value={edu.degree}
                                    onChange={(e) => {
                                        const newEducation = [...data.education];
                                        newEducation[index].degree = e.target.value;
                                        updateFormValues({
                                            ...data,
                                            education: newEducation,
                                        });
                                    }}
                                />
                            </h3>
                            <p>
                                GPA:{" "}
                                <input
                                    type="text"
                                    name={`education[${index}].gpa`}
                                    value={edu.gpa}
                                    onChange={(e) => {
                                        const newEducation = [...data.education];
                                        newEducation[index].gpa = e.target.value;
                                        updateFormValues({
                                            ...data,
                                            education: newEducation,
                                        });
                                    }}
                                />
                            </p>
                            <p>
                                <input
                                    type="text"
                                    name={`education[${index}].startDate`}
                                    value={edu.startDate}
                                    onChange={(e) => {
                                        const newEducation = [...data.education];
                                        newEducation[index].startDate =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            education: newEducation,
                                        });
                                    }}
                                />{" "}
                                -{" "}
                                <input
                                    type="text"
                                    name={`education[${index}].endDate`}
                                    value={edu.endDate}
                                    onChange={(e) => {
                                        const newEducation = [...data.education];
                                        newEducation[index].endDate =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            education: newEducation,
                                        });
                                    }}
                                />
                            </p>
                            <p>
                                Coursework:{" "}
                                <input
                                    type="text"
                                    name={`education[${index}].coursework`}
                                    value={edu.coursework}
                                    onChange={(e) => {
                                        const newEducation = [...data.education];
                                        newEducation[index].coursework =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            education: newEducation,
                                        });
                                    }}
                                />
                            </p>
                        </div>
                    ))}
            </div>
            
            {/* Experience */}
            <div className="experience">
                <h2>Experience</h2>
                {data.experience &&
                    data.experience.map((exp, index) => (
                        <div key={index}>
                            <h3>
                                <input
                                    type="text"
                                    name={`experience[${index}].jobTitle`}
                                    value={exp.jobTitle}
                                    onChange={(e) => {
                                        const newExperience = [...data.experience];
                                        newExperience[index].jobTitle =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            experience: newExperience,
                                        });
                                    }}
                                />
                                ,{" "}
                                <input
                                    type="text"
                                    name={`experience[${index}].company`}
                                    value={exp.company}
                                    onChange={(e) => {
                                        const newExperience = [...data.experience];
                                        newExperience[index].company =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            experience: newExperience,
                                        });
                                    }}
                                />
                                ,{" "}
                                <input
                                    type="text"
                                    name={`experience[${index}].location`}
                                    value={exp.location}
                                    onChange={(e) => {
                                        const newExperience = [...data.experience];
                                        newExperience[index].location =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            experience: newExperience,
                                        });
                                    }}
                                />
                            </h3>
                            <p>
                                <input
                                    type="text"
                                    name={`experience[${index}].startDate`}
                                    value={exp.startDate}
                                    onChange={(e) => {
                                        const newExperience = [...data.experience];
                                        newExperience[index].startDate =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            experience: newExperience,
                                        });
                                    }}
                                />{" "}
                                -{" "}
                                <input
                                    type="text"
                                    name={`experience[${index}].endDate`}
                                    value={exp.endDate}
                                    onChange={(e) => {
                                        const newExperience = [...data.experience];
                                        newExperience[index].endDate =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            experience: newExperience,
                                        });
                                    }}
                                />
                            </p>
                            <ul>
                                {exp.description &&
                                    exp.description.map((desc, i) => (
                                        <li key={i}>
                                            <input
                                                type="text"
                                                name={`experience[<span class="math-inline">\{index\}\]\.description\[</span>{i}]`}
                                                value={desc}
                                                onChange={(e) => {
                                                    const newDescription = [
                                                        ...exp.description,
                                                    ];
                                                    newDescription[i] =
                                                        e.target.value;
                                                    const newExperience = [
                                                        ...data.experience,
                                                    ];
                                                    newExperience[
                                                        index
                                                        ].description =
                                                        newDescription;
                                                    updateFormValues({
                                                        ...data,
                                                        experience:
                                                        newExperience,
                                                    });
                                                }}
                                            />
                                        </li>
                                    ))}
                            </ul>
                        </div>
                    ))}
            </div>
            
            {/* Publications */}
            <div className="publications">
                <h2>Publications</h2>
                {data.publications &&
                    data.publications.map((pub, index) => (
                        <div key={index}>
                            <h3>
                                <input
                                    type="text"
                                    name={`publications[${index}].title`}
                                    value={pub.title}
                                    onChange={(e) => {
                                        const newPublications = [
                                            ...data.publications,
                                        ];
                                        newPublications[index].title =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            publications: newPublications,
                                        });
                                    }}
                                />
                            </h3>
                            <p>
                                <input
                                    type="text"
                                    name={`publications[${index}].authors`}
                                    value={pub.authors}
                                    onChange={(e) => {
                                        const newPublications = [
                                            ...data.publications,
                                        ];
                                        newPublications[index].authors =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            publications: newPublications,
                                        });
                                    }}
                                />
                            </p>
                            <a href={pub.link}>
                                <input
                                    type="text"
                                    name={`publications[${index}].link`}
                                    value={pub.link}
                                    onChange={(e) => {
                                        const newPublications = [
                                            ...data.publications,
                                        ];
                                        newPublications[index].link =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            publications: newPublications,
                                        });
                                    }}
                                />
                            </a>
                        </div>
                    ))}
            </div>
            
            {/* Projects */}
            <div className="projects">
                <h2>Projects</h2>
                {data.projects &&
                    data.projects.map((project, index) => (
                        <div key={index}>
                            <h3>
                                <input
                                    type="text"
                                    name={`projects[${index}].name`}
                                    value={project.name}
                                    onChange={(e) => {
                                        const newProjects = [...data.projects];
                                        newProjects[index].name = e.target.value;
                                        updateFormValues({
                                            ...data,
                                            projects: newProjects,
                                        });
                                    }}
                                />{" "}
                                <input
                                    type="text"
                                    name={`projects[${index}].date`}
                                    value={project.date}
                                    onChange={(e) => {
                                        const newProjects = [...data.projects];
                                        newProjects[index].date = e.target.value;
                                        updateFormValues({
                                            ...data,
                                            projects: newProjects,
                                        });
                                    }}
                                />
                            </h3>
                            {project.github && (
                                <a href={project.github}>
                                    <input
                                        type="text"
                                        name={`projects[${index}].github`}
                                        value={project.github}
                                        onChange={(e) => {
                                            const newProjects = [
                                                ...data.projects,
                                            ];
                                            newProjects[index].github =
                                                e.target.value;
                                            updateFormValues({
                                                ...data,
                                                projects: newProjects,
                                            });
                                        }}
                                    />
                                </a>
                            )}
                            <ul>
                                {project.description &&
                                    project.description.map((desc, i) => (
                                        <li key={i}>
                                            <input
                                                type="text"
                                                name={`projects[<span class="math-inline">\{index\}\]\.description\[</span>{i}]`}
                                                value={desc}
                                                onChange={(e) => {
                                                    const newDescription = [
                                                        ...project.description,
                                                    ];
                                                    newDescription[i] =
                                                        e.target.value;
                                                    const newProjects = [
                                                        ...data.projects,
                                                    ];
                                                    newProjects[
                                                        index
                                                        ].description =
                                                        newDescription;
                                                    updateFormValues({
                                                        ...data,
                                                        projects: newProjects,
                                                    });
                                                }}
                                            />
                                        </li>
                                    ))}
                            </ul>
                            <p>
                                Tools Used:{" "}
                                <input
                                    type="text"
                                    name={`projects[${index}].tools`}
                                    value={project.tools}
                                    onChange={(e) => {
                                        const newProjects = [...data.projects];
                                        newProjects[index].tools =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            projects: newProjects,
                                        });
                                    }}
                                />
                            </p>
                        </div>
                    ))}
            </div>
            
            {/* Technologies */}
            <div className="technologies">
                <h2>Technologies</h2>
                <p>
                    Languages:{" "}
                    <input
                        type="text"
                        name="technologies.languages"
                        value={data.technologies?.languages}
                        onChange={(e) => {
                            updateFormValues({
                                ...data,
                                technologies: {
                                    ...data.technologies,
                                    languages: e.target.value,
                                },
                            });
                        }}
                    />
                </p>
                <p>
                    Technologies:{" "}
                    <input
                        type="text"
                        name="technologies.technologies"
                        value={data.technologies?.technologies}
                        onChange={(e) => {
                            updateFormValues({
                                ...data,
                                technologies: {
                                    ...data.technologies,
                                    technologies: e.target.value,
                                },
                            });
                        }}
                    />
                </p>
            </div>
        </div>
    );
};

export const ResumeTemplate2 = ({ data, updateFormValues }) => {
    // Implement Template 2 with input fields and updateFormValues
    return (
        <div className="resume-template-2">
            {/* Template 2 Content (similar structure, different styling) */}
            {/* You can adjust the layout and styling as needed */}
            <div className="header">
                <h1>
                    <input
                        type="text"
                        name="name"
                        value={data.name}
                        onChange={(e) => {
                            const { name, value } = e.target;
                            updateFormValues({ ...data, [name]: value });
                        }}
                    />
                </h1>
                <p>
                    <input
                        type="text"
                        name="location"
                        value={data.location}
                        onChange={(e) => {
                            const { name, value } = e.target;
                            updateFormValues({ ...data, [name]: value });
                        }}
                    />
                    |
                    <input
                        type="text"
                        name="email"
                        value={data.email}
                        onChange={(e) => {
                            const { name, value } = e.target;
                            updateFormValues({ ...data, [name]: value });
                        }}
                    />
                    |
                    <input
                        type="text"
                        name="phone"
                        value={data.phone}
                        onChange={(e) => {
                            const { name, value } = e.target;
                            updateFormValues({ ...data, [name]: value });
                        }}
                    />
                    |
                    <input
                        type="text"
                        name="website"
                        value={data.website}
                        onChange={(e) => {
                            const { name, value } = e.target;
                            updateFormValues({ ...data, [name]: value });
                        }}
                    />
                </p>
                <p>
                    <input
                        type="text"
                        name="linkedin"
                        value={data.linkedin}
                        onChange={(e) => {
                            const { name, value } = e.target;
                            updateFormValues({ ...data, [name]: value });
                        }}
                    />
                    |
                    <input
                        type="text"
                        name="github"
                        value={data.github}
                        onChange={(e) => {
                            const { name, value } = e.target;
                            updateFormValues({ ...data, [name]: value });
                        }}
                    />
                </p>
            </div>
            
            <div className="education">
                <h2>Education</h2>
                {data.education &&
                    data.education.map((edu, index) => (
                        <div key={index}>
                            <h3>
                                <input
                                    type="text"
                                    name={`education[${index}].institution`}
                                    value={edu.institution}
                                    onChange={(e) => {
                                        const newEducation = [...data.education];
                                        newEducation[index].institution =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            education: newEducation,
                                        });
                                    }}
                                />
                                ,
                                <input
                                    type="text"
                                    name={`education[${index}].degree`}
                                    value={edu.degree}
                                    onChange={(e) => {
                                        const newEducation = [...data.education];
                                        newEducation[index].degree = e.target.value;
                                        updateFormValues({
                                            ...data,
                                            education: newEducation,
                                        });
                                    }}
                                />
                            </h3>
                            <p>
                                GPA:
                                <input
                                    type="text"
                                    name={`education[${index}].gpa`}
                                    value={edu.gpa}
                                    onChange={(e) => {
                                        const newEducation = [...data.education];
                                        newEducation[index].gpa = e.target.value;
                                        updateFormValues({
                                            ...data,
                                            education: newEducation,
                                        });
                                    }}
                                />
                            </p>
                            <p>
                                <input
                                    type="text"
                                    name={`education[${index}].startDate`}
                                    value={edu.startDate}
                                    onChange={(e) => {
                                        const newEducation = [...data.education];
                                        newEducation[index].startDate =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            education: newEducation,
                                        });
                                    }}
                                />
                                -
                                <input
                                    type="text"
                                    name={`education[${index}].endDate`}
                                    value={edu.endDate}
                                    onChange={(e) => {
                                        const newEducation = [...data.education];
                                        newEducation[index].endDate =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            education: newEducation,
                                        });
                                    }}
                                />
                            </p>
                            <p>
                                Coursework:
                                <input
                                    type="text"
                                    name={`education[${index}].coursework`}
                                    value={edu.coursework}
                                    onChange={(e) => {
                                        const newEducation = [...data.education];
                                        newEducation[index].coursework =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            education: newEducation,
                                        });
                                    }}
                                />
                            </p>
                        </div>
                    ))}
            </div>
            
            <div className="experience">
                <h2>Experience</h2>
                {data.experience &&
                    data.experience.map((exp, index) => (
                        <div key={index}>
                            <h3>
                                <input
                                    type="text"
                                    name={`experience[${index}].jobTitle`}
                                    value={exp.jobTitle}
                                    onChange={(e) => {
                                        const newExperience = [...data.experience];
                                        newExperience[index].jobTitle =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            experience: newExperience,
                                        });
                                    }}
                                />
                                ,
                                <input
                                    type="text"
                                    name={`experience[${index}].company`}
                                    value={exp.company}
                                    onChange={(e) => {
                                        const newExperience = [...data.experience];
                                        newExperience[index].company =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            experience: newExperience,
                                        });
                                    }}
                                />
                                ,
                                <input
                                    type="text"
                                    name={`experience[${index}].location`}
                                    value={exp.location}
                                    onChange={(e) => {
                                        const newExperience = [...data.experience];
                                        newExperience[index].location =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            experience: newExperience,
                                        });
                                    }}
                                />
                            </h3>
                            <p>
                                <input
                                    type="text"
                                    name={`experience[${index}].startDate`}
                                    value={exp.startDate}
                                    onChange={(e) => {
                                        const newExperience = [...data.experience];
                                        newExperience[index].startDate =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            experience: newExperience,
                                        });
                                    }}
                                />
                                -
                                <input
                                    type="text"
                                    name={`experience[${index}].endDate`}
                                    value={exp.endDate}
                                    onChange={(e) => {
                                        const newExperience = [...data.experience];
                                        newExperience[index].endDate =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            experience: newExperience,
                                        });
                                    }}
                                />
                            </p>
                            <ul>
                                {exp.description &&
                                    exp.description.map((desc, i) => (
                                            <li key={i}>
                                    <input
                                    type="text"
                                    name={`experience[${index}].description[${i}]`}
                                    value={desc}
                                    onChange={(e) => {
                                    const newDescription = [
                                    ...exp.description,
                                    ];
                                    newDescription[i] = e.target.value;
                                    const newExperience = [
                                    ...data.experience,
                                    ];
                                    newExperience[index].description =
                                    newDescription;
                                    updateFormValues({
                                    ...data,
                                    experience: newExperience,
                                });
                                }}
                                    />
                                    </li>
                                    ))}
                            </ul>
                        </div>
                    ))}
            </div>
            
            <div className="publications">
                <h2>Publications</h2>
                {data.publications &&
                    data.publications.map((pub, index) => (
                        <div key={index}>
                            <h3>
                                <input
                                    type="text"
                                    name={`publications[${index}].title`}
                                    value={pub.title}
                                    onChange={(e) => {
                                        const newPublications = [
                                            ...data.publications,
                                        ];
                                        newPublications[index].title = e.target.value;
                                        updateFormValues({
                                            ...data,
                                            publications: newPublications,
                                        });
                                    }}
                                />
                            </h3>
                            <p>
                                <input
                                    type="text"
                                    name={`publications[${index}].authors`}
                                    value={pub.authors}
                                    onChange={(e) => {
                                        const newPublications = [
                                            ...data.publications,
                                        ];
                                        newPublications[index].authors = e.target.value;
                                        updateFormValues({
                                            ...data,
                                            publications: newPublications,
                                        });
                                    }}
                                />
                            </p>
                            <a href={pub.link}>
                                <input
                                    type="text"
                                    name={`publications[${index}].link`}
                                    value={pub.link}
                                    onChange={(e) => {
                                        const newPublications = [
                                            ...data.publications,
                                        ];
                                        newPublications[index].link = e.target.value;
                                        updateFormValues({
                                            ...data,
                                            publications: newPublications,
                                        });
                                    }}
                                />
                            </a>
                        </div>
                    ))}
            </div>
            
            <div className="projects">
                <h2>Projects</h2>
                {data.projects &&
                    data.projects.map((project, index) => (
                        <div key={index}>
                            <h3>
                                <input
                                    type="text"
                                    name={`projects[${index}].name`}
                                    value={project.name}
                                    onChange={(e) => {
                                        const newProjects = [...data.projects];
                                        newProjects[index].name = e.target.value;
                                        updateFormValues({
                                            ...data,
                                            projects: newProjects,
                                        });
                                    }}
                                />
                                <input
                                    type="text"
                                    name={`projects[${index}].date`}
                                    value={project.date}
                                    onChange={(e) => {
                                        const newProjects = [...data.projects];
                                        newProjects[index].date = e.target.value;
                                        updateFormValues({
                                            ...data,
                                            projects: newProjects,
                                        });
                                    }}
                                />
                            </h3>
                            {project.github && (
                                <a href={project.github}>
                                    <input
                                        type="text"
                                        name={`projects[${index}].github`}
                                        value={project.github}
                                        onChange={(e) => {
                                            const newProjects = [...data.projects];
                                            newProjects[index].github = e.target.value;
                                            updateFormValues({
                                                ...data,
                                                projects: newProjects,
                                            });
                                        }}
                                    />
                                </a>
                            )}
                            <ul>
                                {project.description &&
                                    project.description.map((desc, i) => (
                                        <li key={i}>
                                            <input
                                                type="text"
                                                name={`projects[${index}].description[${i}]`}
                                                value={desc}
                                                onChange={(e) => {
                                                    const newDescription = [
                                                        ...project.description,
                                                    ];
                                                    newDescription[i] = e.target.value;
                                                    const newProjects = [
                                                        ...data.projects,
                                                    ];
                                                    newProjects[index].description =
                                                        newDescription;
                                                    updateFormValues({
                                                        ...data,
                                                        projects: newProjects,
                                                    });
                                                }}
                                            />
                                        </li>
                                    ))}
                            </ul>
                            <p>
                                Tools Used:
                                <input
                                    type="text"
                                    name={`projects[${index}].tools`}
                                    value={project.tools}
                                    onChange={(e) => {
                                        const newProjects = [...data.projects];
                                        newProjects[index].tools = e.target.value;
                                        updateFormValues({
                                            ...data,
                                            projects: newProjects,
                                        });
                                    }}
                                />
                            </p>
                        </div>
                    ))}
            </div>
            
            <div className="technologies">
                <h2>Technologies</h2>
                <p>
                    Languages:
                    <input
                        type="text"
                        name="technologies.languages"
                        value={data.technologies?.languages}
                        onChange={(e) => {
                            updateFormValues({
                                ...data,
                                technologies: {
                                    ...data.technologies,
                                    languages: e.target.value,
                                },
                            });
                        }}
                    />
                </p>
                <p>
                    Technologies:
                    <input
                        type="text"
                        name="technologies.technologies"
                        value={data.technologies?.technologies}
                        onChange={(e) => {
                            updateFormValues({
                                ...data,
                                technologies: {
                                    ...data.technologies,
                                    technologies: e.target.value,
                                },
                            });
                        }}
                    />
                </p>
            </div>
        </div>
    );
};

export const ResumeTemplate3 = ({ data, updateFormValues }) => {
    // Implement Template 3 with input fields and updateFormValues
    return (
        <div className="resume-template-3">
            {/* Template 3 Content (similar structure, different styling) */}
            {/* You can adjust the layout and styling as needed */}
            <div className="header">
                <h1>
                    <input
                        type="text"
                        name="name"
                        value={data.name}
                        onChange={(e) => {
                            const { name, value } = e.target;
                            updateFormValues({ ...data, [name]: value });
                        }}
                    />
                </h1>
                <p>
                    <input
                        type="text"
                        name="location"
                        value={data.location}
                        onChange={(e) => {
                            const { name, value } = e.target;
                            updateFormValues({ ...data, [name]: value });
                        }}
                    />
                    |
                    <input
                        type="text"
                        name="email"
                        value={data.email}
                        onChange={(e) => {
                            const { name, value } = e.target;
                            updateFormValues({ ...data, [name]: value });
                        }}
                    />
                    |
                    <input
                        type="text"
                        name="phone"
                        value={data.phone}
                        onChange={(e) => {
                            const { name, value } = e.target;
                            updateFormValues({ ...data, [name]: value });
                        }}
                    />
                    |
                    <input
                        type="text"
                        name="website"
                        value={data.website}
                        onChange={(e) => {
                            const { name, value } = e.target;
                            updateFormValues({ ...data, [name]: value });
                        }}
                    />
                </p>
                <p>
                    <input
                        type="text"
                        name="linkedin"
                        value={data.linkedin}
                        onChange={(e) => {
                            const { name, value } = e.target;
                            updateFormValues({ ...data, [name]: value });
                        }}
                    />
                    |
                    <input
                        type="text"
                        name="github"
                        value={data.github}
                        onChange={(e) => {
                            const { name, value } = e.target;
                            updateFormValues({ ...data, [name]: value });
                        }}
                    />
                </p>
            </div>
            
            <div className="education">
                <h2>Education</h2>
                {data.education &&
                    data.education.map((edu, index) => (
                        <div key={index}>
                            <h3>
                                <input
                                    type="text"
                                    name={`education[${index}].institution`}
                                    value={edu.institution}
                                    onChange={(e) => {
                                        const newEducation = [...data.education];
                                        newEducation[index].institution =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            education: newEducation,
                                        });
                                    }}
                                />
                                ,
                                <input
                                    type="text"
                                    name={`education[${index}].degree`}
                                    value={edu.degree}
                                    onChange={(e) => {
                                        const newEducation = [...data.education];
                                        newEducation[index].degree = e.target.value;
                                        updateFormValues({
                                            ...data,
                                            education: newEducation,
                                        });
                                    }}
                                />
                            </h3>
                            <p>
                                GPA:
                                <input
                                    type="text"
                                    name={`education[${index}].gpa`}
                                    value={edu.gpa}
                                    onChange={(e) => {
                                        const newEducation = [...data.education];
                                        newEducation[index].gpa = e.target.value;
                                        updateFormValues({
                                            ...data,
                                            education: newEducation,
                                        });
                                    }}
                                />
                            </p>
                            <p>
                                <input
                                    type="text"
                                    name={`education[${index}].startDate`}
                                    value={edu.startDate}
                                    onChange={(e) => {
                                        const newEducation = [...data.education];
                                        newEducation[index].startDate =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            education: newEducation,
                                        });
                                    }}
                                />
                                -
                                <input
                                    type="text"
                                    name={`education[${index}].endDate`}
                                    value={edu.endDate}
                                    onChange={(e) => {
                                        const newEducation = [...data.education];
                                        newEducation[index].endDate =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            education: newEducation,
                                        });
                                    }}
                                />
                            </p>
                            <p>
                                Coursework:
                                <input
                                    type="text"
                                    name={`education[${index}].coursework`}
                                    value={edu.coursework}
                                    onChange={(e) => {
                                        const newEducation = [...data.education];
                                        newEducation[index].coursework =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            education: newEducation,
                                        });
                                    }}
                                />
                            </p>
                        </div>
                    ))}
            </div>
            
            <div className="experience">
                <h2>Experience</h2>
                {data.experience &&
                    data.experience.map((exp, index) => (
                        <div key={index}>
                            <h3>
                                <input
                                    type="text"
                                    name={`experience[${index}].jobTitle`}
                                    value={exp.jobTitle}
                                    onChange={(e) => {
                                        const newExperience = [...data.experience];
                                        newExperience[index].jobTitle =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            experience: newExperience,
                                        });
                                    }}
                                />
                                ,
                                <input
                                    type="text"
                                    name={`experience[${index}].company`}
                                    value={exp.company}
                                    onChange={(e) => {
                                        const newExperience = [...data.experience];
                                        newExperience[index].company =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            experience: newExperience,
                                        });
                                    }}
                                />
                                ,
                                <input
                                    type="text"
                                    name={`experience[${index}].location`}
                                    value={exp.location}
                                    onChange={(e) => {
                                        const newExperience = [...data.experience];
                                        newExperience[index].location =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            experience: newExperience,
                                        });
                                    }}
                                />
                            </h3>
                            <p>
                                <input
                                    type="text"
                                    name={`experience[${index}].startDate`}
                                    value={exp.startDate}
                                    onChange={(e) => {
                                        const newExperience = [...data.experience];
                                        newExperience[index].startDate =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            experience: newExperience,
                                        });
                                    }}
                                />
                                -
                                <input
                                    type="text"
                                    name={`experience[${index}].endDate`}
                                    value={exp.endDate}
                                    onChange={(e) => {
                                        const newExperience = [...data.experience];
                                        newExperience[index].endDate =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            experience: newExperience,
                                        });
                                    }}
                                />
                            </p>
                            <ul>
                                {exp.description &&
                                    exp.description.map((desc, i) => (
                                        <li key={i}>
                                            <input
                                                type="text"
                                                name={`experience[${index}].description[${i}]`}
                                                value={desc}
                                                onChange={(e) => {
                                                    const newDescription = [
                                                        ...exp.description,
                                                    ];
                                                    newDescription[i] =
                                                        e.target.value;
                                                    const newExperience = [
                                                        ...data.experience,
                                                    ];
                                                    newExperience[
                                                        index
                                                        ].description =
                                                        newDescription;
                                                    updateFormValues({
                                                        ...data,
                                                        experience:
                                                        newExperience,
                                                    });
                                                }}
                                            />
                                        </li>
                                    ))}
                            </ul>
                        </div>
                    ))}
            </div>
            
            <div className="publications">
                <h2>Publications</h2>
                {data.publications &&
                    data.publications.map((pub, index) => (
                        <div key={index}>
                            <h3>
                                <input
                                    type="text"
                                    name={`publications[${index}].title`}
                                    value={pub.title}
                                    onChange={(e) => {
                                        const newPublications = [
                                            ...data.publications,
                                        ];
                                        newPublications[index].title =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            publications: newPublications,
                                        });
                                    }}
                                />
                            </h3>
                            <p>
                                <input
                                    type="text"
                                    name={`publications[${index}].authors`}
                                    value={pub.authors}
                                    onChange={(e) => {
                                        const newPublications = [
                                            ...data.publications,
                                        ];
                                        newPublications[index].authors =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            publications: newPublications,
                                        });
                                    }}
                                />
                            </p>
                            <a href={pub.link}>
                                <input
                                    type="text"
                                    name={`publications[${index}].link`}
                                    value={pub.link}
                                    onChange={(e) => {
                                        const newPublications = [
                                            ...data.publications,
                                        ];
                                        newPublications[index].link =
                                            e.target.value;
                                        updateFormValues({
                                            ...data,
                                            publications: newPublications,
                                        });
                                    }}
                                />
                            </a>
                        </div>
                    ))}
            </div>
            
            <div className="projects">
                <h2>Projects</h2>
                {data.projects &&
                    data.projects.map((project, index) => (
                        <div key={index}>
                            <h3>
                                <input
                                    type="text"
                                    name={`projects[${index}].name`}
                                    value={project.name}
                                    onChange={(e) => {
                                        const newProjects = [...data.projects];
                                        newProjects[index].name = e.target.value;
                                        updateFormValues({
                                            ...data,
                                            projects: newProjects,
                                        });
                                    }}
                                />
                                <input
                                    type="text"
                                    name={`projects[${index}].date`}
                                    value={project.date}
                                    onChange={(e) => {
                                        const newProjects = [...data.projects];
                                        newProjects[index].date = e.target.value;
                                        updateFormValues({
                                            ...data,
                                            projects: newProjects,
                                        });
                                    }}
                                />
                            </h3>
                            {project.github && (
                                <a href={project.github}>
                                    <input
                                        type="text"
                                        name={`projects[${index}].github`}
                                        value={project.github}
                                        onChange={(e) => {
                                            const newProjects = [
                                                ...data.projects,
                                            ];
                                            newProjects[index].github =
                                                e.target.value;
                                            updateFormValues({
                                                ...data,
                                                projects: newProjects,
                                            });
                                        }}
                                    />
                                </a>
                            )}
                            <ul>
                                {project.description &&
                                    project.description.map((desc, i) => (
                                        <li key={i}>
                                            <input
                                                type="text"
                                                name={`projects[${index}].description[${i}]`}
                                                value={desc}
                                                onChange={(e) => {
                                                    const newDescription = [
                                                        ...project.description,
                                                    ];
                                                    newDescription[i] =
                                                        e.target.value;
                                                    const newProjects = [
                                                        ...data.projects,
                                                    ];
                                                    newProjects[
                                                        index
                                                        ].description =
                                                        newDescription;
                                                    updateFormValues({
                                                        ...data,
                                                        projects: newProjects,
                                                    });
                                                }}
                                            />
                                        </li>
                                    ))}
                            </ul>
                            <p>
                                Tools Used:
                                <input
                                    type="text"
                                    name={`projects[${index}].tools`}
                                    value={project.tools}
                                    onChange={(e) => {
                                        const newProjects = [...data.projects];
                                        newProjects[index].tools = e.target.value;
                                        updateFormValues({
                                            ...data,
                                            projects: newProjects,
                                        });
                                    }}
                                />
                            </p>
                        </div>
                    ))}
            </div>
            
            <div className="technologies">
                <h2>Technologies</h2>
                <p>
                    Languages:
                    <input
                        type="text"
                        name="technologies.languages"
                        value={data.technologies?.languages}
                        onChange={(e) => {
                            updateFormValues({
                                ...data,
                                technologies: {
                                    ...data.technologies,
                                    languages: e.target.value,
                                },
                            });
                        }}
                    />
                </p>
                <p>
                    Technologies:
                    <input
                        type="text"
                        name="technologies.technologies"
                        value={data.technologies?.technologies}
                        onChange={(e) => {
                            updateFormValues({
                                ...data,
                                technologies: {
                                    ...data.technologies,
                                    technologies: e.target.value,
                                },
                            });
                        }}
                    />
                </p>
            </div>
        </div>
    );
};


export const generatePDF = (data, template) => {
        const doc = new jsPDF();
        
        // Function to add a section to the PDF
        const addSection = (title, content, y) => {
            doc.setFontSize(14);
            doc.text(title, 10, y);
            doc.setFontSize(10);
            return y + 7; // Return the next y position
        };
        
        let y = 20; // Initial Y position
        
        // Generate PDF based on the selected template
        if (template === 1) {
            // Header
            doc.setFontSize(16);
            doc.text(data.name, 10, y);
            y += 7;
            doc.setFontSize(10);
            doc.text(
                `${data.location} | ${data.email} | ${data.phone} | ${data.website}`,
                10,
                y
            );
            y += 5;
            doc.text(`${data.linkedin} | ${data.github}`, 10, y);
            y += 10;
            
            // Education
            y = addSection("Education", "", y);
            data.education &&
            data.education.forEach((edu) => {
                doc.text(`${edu.institution}, ${edu.degree}`, 10, y);
                y += 5;
                doc.text(`GPA: ${edu.gpa}`, 10, y);
                y += 5;
                doc.text(`${edu.startDate} - ${edu.endDate}`, 10, y);
                y += 5;
                doc.text(`Coursework: ${edu.coursework}`, 10, y);
                y += 10;
            });
            
            // Experience
            y = addSection("Experience", "", y);
            data.experience &&
            data.experience.forEach((exp) => {
                doc.text(`${exp.jobTitle}, ${exp.company}, ${exp.location}`, 10, y);
                y += 5;
                doc.text(`${exp.startDate} - ${exp.endDate}`, 10, y);
                y += 5;
                exp.description &&
                exp.description.forEach((desc) => {
                    doc.text(`- ${desc}`, 15, y);
                    y += 5;
                });
                y += 5;
            });
            
            // Publications
            y = addSection("Publications", "", y);
            data.publications &&
            data.publications.forEach((pub) => {
                doc.text(`${pub.title}`, 10, y);
                y += 5;
                doc.text(`${pub.authors}`, 10, y);
                y += 5;
                doc.text(`${pub.link}`, 10, y);
                y += 10;
            });
            
            // Projects
            y = addSection("Projects", "", y);
            data.projects &&
            data.projects.forEach((project) => {
                doc.text(`${project.name} ${project.date || ""}`, 10, y);
                y += 5;
                if (project.github) {
                    doc.text(`${project.github}`, 10, y);
                    y += 5;
                }
                project.description &&
                project.description.forEach((desc) => {
                    doc.text(`- ${desc}`, 15, y);
                    y += 5;
                });
                doc.text(`Tools Used: ${project.tools}`, 10, y);
                y += 10;
            });
            
            // Technologies
            y = addSection("Technologies", "", y);
            doc.text(`Languages: ${data.technologies?.languages}`, 10, y);
            y += 5;
            doc.text(`Technologies: ${data.technologies?.technologies}`, 10, y);
        } else if (template === 2) {
            //  Implementation for Template 2 PDF generation
            //  (Similar structure to template 1, adjust styling and layout)
            doc.text(data.name, 10, 10);
            doc.text(data.email, 10, 20);
        } else if (template === 3) {
            //  Implementation for Template 3 PDF generation
            //  (Similar structure to template 1, adjust styling and layout)
            doc.text(data.name, 10, 10);
            doc.text(data.email, 10, 20);
        }
        
        return doc.output("dataurlstring");
    };

    
